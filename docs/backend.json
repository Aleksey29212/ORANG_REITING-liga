{
  "entities": {
    "Tournament": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Tournament",
      "type": "object",
      "description": "Represents a darts tournament.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Tournament entity."
        },
        "tournamentId": {
          "type": "string",
          "description": "Tournament ID from dartsbase.ru."
        },
        "name": {
          "type": "string",
          "description": "Name of the tournament."
        },
        "startDate": {
          "type": "string",
          "description": "Start date of the tournament.",
          "format": "date-time"
        },
        "endDate": {
          "type": "string",
          "description": "End date of the tournament.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "tournamentId",
        "name",
        "startDate",
        "endDate"
      ]
    },
    "Player": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Player",
      "type": "object",
      "description": "Represents a player in the darts tournament.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Player entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the player."
        },
        "photoUrl": {
          "type": "string",
          "description": "URL of the player's photo."
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "Match": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Match",
      "type": "object",
      "description": "Represents a match within a tournament.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Match entity."
        },
        "tournamentId": {
          "type": "string",
          "description": "Reference to Tournament. (Relationship: Tournament 1:N Match)"
        },
        "player1Id": {
          "type": "string",
          "description": "Reference to Player 1. (Relationship: Player 1:N Match)"
        },
        "player2Id": {
          "type": "string",
          "description": "Reference to Player 2. (Relationship: Player 1:N Match)"
        },
        "player1Score": {
          "type": "number",
          "description": "Score of player 1 in the match."
        },
        "player2Score": {
          "type": "number",
          "description": "Score of player 2 in the match."
        },
        "matchDate": {
          "type": "string",
          "description": "Date of the match.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "tournamentId",
        "player1Id",
        "player2Id",
        "player1Score",
        "player2Score",
        "matchDate"
      ]
    },
    "Ranking": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Ranking",
      "type": "object",
      "description": "Represents the ranking of a player.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Ranking entity."
        },
        "playerId": {
          "type": "string",
          "description": "Reference to Player. (Relationship: Player 1:N Ranking)"
        },
        "points": {
          "type": "number",
          "description": "The player's ranking points."
        },
        "rank": {
          "type": "number",
          "description": "The player's current rank."
        }
      },
      "required": [
        "id",
        "playerId",
        "points",
        "rank"
      ]
    },
    "ScoringConfiguration": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ScoringConfiguration",
      "type": "object",
      "description": "Represents the configuration for scoring.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the ScoringConfiguration entity."
        },
        "basePoints": {
          "type": "number",
          "description": "Base points awarded for a match."
        },
        "bonusPointsPerWin": {
          "type": "number",
          "description": "Bonus points awarded for winning a match."
        },
        "bonusPointsPerDraw": {
          "type": "number",
          "description": "Bonus points awarded for a draw."
        }
      },
      "required": [
        "id",
        "basePoints",
        "bonusPointsPerWin"
      ]
    },
    "AdminUser": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "AdminUser",
      "type": "object",
      "description": "Represents an admin user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the AdminUser entity."
        },
        "username": {
          "type": "string",
          "description": "Admin username."
        },
        "email": {
          "type": "string",
          "description": "Admin email address.",
          "format": "email"
        }
      },
      "required": [
        "id",
        "username",
        "email"
      ]
    },
    "Partner": {
      "title": "Partner",
      "type": "object",
      "description": "Represents a partner or sponsor.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the partner."
        },
        "name": {
          "type": "string",
          "description": "Name of the partner."
        },
        "logoUrl": {
          "type": "string",
          "description": "URL of the partner's logo.",
          "format": "uri"
        },
        "category": {
          "type": "string",
          "enum": ["shop", "platform", "media", "other"],
          "description": "Category of the partner (e.g., Shop or Gaming Platform)."
        },
        "linkUrl": {
          "type": "string",
          "description": "URL to the partner's website.",
          "format": "uri"
        },
        "promoCode": {
          "type": "string",
          "description": "An optional promotional code provided by the partner."
        }
      },
      "required": [
        "id",
        "name",
        "logoUrl",
        "category",
        "linkUrl"
      ]
    },
    "Visit": {
      "title": "Visit",
      "type": "object",
      "description": "Represents a single visit to the website.",
      "properties": {
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of the visit."
        }
      },
      "required": [
        "timestamp"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/tournaments/{tournamentId}": {
      "schema": {
        "$ref": "#/entities/Tournament"
      },
      "description": "Stores tournament data. Includes denormalized 'tournamentId' as the document ID."
    },
    "/players/{playerId}": {
      "schema": {
        "$ref": "#/entities/Player"
      },
      "description": "Stores player data. Includes denormalized 'playerId' as the document ID."
    },
    "/matches/{matchId}": {
      "schema": {
        "$ref": "#/entities/Match"
      },
      "description": "Stores match data. Includes denormalized 'matchId' as the document ID."
    },
    "/rankings/{rankingId}": {
      "schema": {
        "$ref": "#/entities/Ranking"
      },
      "description": "Stores player rankings. Includes denormalized 'rankingId' as the document ID."
    },
    "/scoring_configurations/{scoringConfigurationId}": {
      "schema": {
        "$ref": "#/entities/ScoringConfiguration"
      },
      "description": "Stores scoring configurations. Includes denormalized 'scoringConfigurationId' as the document ID."
    },
    "/roles_admin/{userId}": {
      "schema": {
        "$ref": "#/entities/AdminUser"
      },
      "description": "Stores admin user IDs. Used for role-based authorization. Document ID is the user's UID."
    },
    "/partners/{partnerId}": {
      "schema": {
        "$ref": "#/entities/Partner"
      },
      "description": "Stores partner and sponsor information."
    },
    "/visits/{visitId}": {
      "schema": {
        "$ref": "#/entities/Visit"
      },
      "description": "Stores a record for each unique user session to track site visits."
    }
  }
}
